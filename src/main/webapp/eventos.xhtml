<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<h:head>

	<meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
	<meta http-equiv="content-language" content="pt-br" />

	<title>Eventos JSF</title>

</h:head>
<h:body>
	
	<h:form id="form">
			<h:outputText value="--- ActionListener ---"/>
			<br/><br/>
			
			<!-- o listener é executado antes da ação -->
			<h:commandButton id="botaoAcao" value="Evento ActionListener via método binding" action="#{eventosBean.acaoBotao}" actionListener="#{eventosBean.acaoListener}"/>
			<br/><br/>
			
			<h:commandButton id="botaoListener" value="Evento ActionListener via listener" action="#{eventosBean.acaoBotao}">
				<f:actionListener  type="com.softgraf.listeners.ListenerAcao"/>
			</h:commandButton>
			
			
			<hr/>
			<h:outputText value="--- ValueChangeListener ---"/>
			<br/><br/>
			
			<!-- necessario definir  um evento javascript para processar o listener -->
			<h:outputLabel for="campo1" value="Evento ValueChangeListener via binding (tab):"/>
			<h:inputText id="campo1" valueChangeListener="#{eventosBean.mudancaValor}" onchange="submit()"/>
			<br/><br/>
			
			<h:outputLabel for="campo2" value="Evento ValueChangeListener via listener (tab):"/>
			<h:inputText id="campo2" onchange="submit()">
				<f:valueChangeListener  type="com.softgraf.listeners.ListenerMudancaValor" />
			</h:inputText>
			
			<!-- processa eventos da view -->
			<f:phaseListener type="com.softgraf.listeners.ListenerFase"/>
			
			<!-- eventos de pre e pós renderização -->
			<f:event type="preRenderView" listener="#{eventosBean.carregaDados}"/>
			
			<f:event type="postRenderView" listener="#{eventosBean.verificaDados}"/>
			
	</h:form>

</h:body>
</html>

